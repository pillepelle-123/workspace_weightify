{"level":"error","message":"Error getting next track: track.artists?.map is not a function","stack":"TypeError: track.artists?.map is not a function\n    at c:\\Users\\pille\\Documents\\Programmieren\\workspace_spielwiese\\weightify\\src\\services\\weightlist.service.ts:117:37\n    at Array.map (<anonymous>)\n    at WeightlistService.loadTracksForSession (c:\\Users\\pille\\Documents\\Programmieren\\workspace_spielwiese\\weightify\\src\\services\\weightlist.service.ts:111:32)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WeightlistService.startPlaybackSession (c:\\Users\\pille\\Documents\\Programmieren\\workspace_spielwiese\\weightify\\src\\services\\weightlist.service.ts:91:5)\n    at async getNextTrack (c:\\Users\\pille\\Documents\\Programmieren\\workspace_spielwiese\\weightify\\src\\controllers\\weightlist.controller.ts:113:39)","timestamp":"2025-08-07T23:07:16.067Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:16:21 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user playlists: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:16:21.739Z"}
{"level":"error","message":"Error fetching playlists: Failed to get user playlists from Spotify","stack":"Error: Failed to get user playlists from Spotify\n    at SpotifyService.getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:68:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\auth.controller.ts:76:23)","timestamp":"2025-08-07T23:16:21.743Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:16:21 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user playlists: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:16:21.895Z"}
{"level":"error","message":"Error fetching playlists: Failed to get user playlists from Spotify","stack":"Error: Failed to get user playlists from Spotify\n    at SpotifyService.getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:68:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\auth.controller.ts:76:23)","timestamp":"2025-08-07T23:16:21.897Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:16:21 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user playlists: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:16:22.054Z"}
{"level":"error","message":"Error fetching playlists: Failed to get user playlists from Spotify","stack":"Error: Failed to get user playlists from Spotify\n    at SpotifyService.getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:68:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\auth.controller.ts:76:23)","timestamp":"2025-08-07T23:16:22.056Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:16:21 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user playlists: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:16:22.185Z"}
{"level":"error","message":"Error fetching playlists: Failed to get user playlists from Spotify","stack":"Error: Failed to get user playlists from Spotify\n    at SpotifyService.getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:68:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\auth.controller.ts:76:23)","timestamp":"2025-08-07T23:16:22.187Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:17:00 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:17:00.699Z"}
{"level":"error","message":"Error getting user weightlists: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserWeightlists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\weightlist.controller.ts:192:25)","timestamp":"2025-08-07T23:17:00.704Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:17:00 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:17:00.845Z"}
{"level":"error","message":"Error getting user weightlists: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserWeightlists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\weightlist.controller.ts:192:25)","timestamp":"2025-08-07T23:17:00.847Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:17:00 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user playlists: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:17:00.959Z"}
{"level":"error","message":"Error fetching playlists: Failed to get user playlists from Spotify","stack":"Error: Failed to get user playlists from Spotify\n    at SpotifyService.getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:68:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserPlaylists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\auth.controller.ts:76:23)","timestamp":"2025-08-07T23:17:00.960Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:17:23 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:17:24.242Z"}
{"level":"error","message":"Error getting user weightlists: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserWeightlists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\weightlist.controller.ts:192:25)","timestamp":"2025-08-07T23:17:24.243Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Thu, 07 Aug 2025 23:17:23 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-07T23:17:24.410Z"}
{"level":"error","message":"Error getting user weightlists: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getUserWeightlists (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\controllers\\weightlist.controller.ts:192:25)","timestamp":"2025-08-07T23:17:24.410Z"}
{"cause":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2636357,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"errorLabelSet":{},"level":"error","message":"MongoDB connection error: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"localhost:27017":{"$clusterTime":null,"address":"localhost:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":2636357,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":null,"stale":false,"type":"Unknown"},"stack":"MongooseServerSelectionError: connect ECONNREFUSED ::1:27017, connect ECONNREFUSED 127.0.0.1:27017\n    at _handleConnectionErrors (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDatabase (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\utils\\database.ts:7:5)","timestamp":"2025-08-08T09:38:10.739Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Fri, 08 Aug 2025 09:43:20 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-08T09:43:18.733Z"}
{"level":"error","message":"Token validation failed: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticateToken (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\middleware\\auth.middleware.ts:15:5)","timestamp":"2025-08-08T09:43:18.735Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Fri, 08 Aug 2025 09:43:20 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-08T09:43:18.816Z"}
{"level":"error","message":"Token validation failed: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticateToken (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\middleware\\auth.middleware.ts:15:5)","timestamp":"2025-08-08T09:43:18.817Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Fri, 08 Aug 2025 09:43:20 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-08T09:43:18.843Z"}
{"level":"error","message":"Token validation failed: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticateToken (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\middleware\\auth.middleware.ts:15:5)","timestamp":"2025-08-08T09:43:18.844Z"}
{"body":{"error":{"message":"The access token expired","status":401}},"headers":{"access-control-allow-credentials":"true","access-control-allow-headers":"Accept, App-Platform, Authorization, Content-Type, Origin, Retry-After, Spotify-App-Version, X-Cloud-Trace-Context, client-token, content-access-token","access-control-allow-methods":"GET, POST, OPTIONS, PUT, DELETE, PATCH","access-control-allow-origin":"*","access-control-max-age":"604800","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000, h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000","connection":"close","content-encoding":"gzip","content-type":"application/json","date":"Fri, 08 Aug 2025 09:43:20 GMT","server":"envoy","strict-transport-security":"max-age=31536000","transfer-encoding":"chunked","via":"HTTP/2 edgeproxy, 1.1 google","www-authenticate":"Bearer realm=\"spotify\", error=\"invalid_token\", error_description=\"The access token expired\"","x-content-type-options":"nosniff"},"level":"error","message":"Error getting user profile: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.","stack":"WebapiRegularError: An error occurred while communicating with Spotify's Web API.\nDetails: The access token expired.\n    at _toError (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:39:12)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\spotify-web-api-node\\src\\http-manager.js:71:25)\n    at Request.callback (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:902:3)\n    at fn (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\index.js:1130:18)\n    at IncomingMessage.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\parsers\\json.js:19:7)\n    at Stream.emit (node:events:518:28)\n    at Stream.emit (node:domain:489:12)\n    at Unzip.<anonymous> (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\node_modules\\superagent\\src\\node\\unzip.js:54:12)\n    at Unzip.emit (node:events:518:28)\n    at Unzip.emit (node:domain:489:12)","statusCode":401,"timestamp":"2025-08-08T09:43:18.995Z"}
{"level":"error","message":"Token validation failed: Failed to get user profile from Spotify","stack":"Error: Failed to get user profile from Spotify\n    at SpotifyService.getUserProfile (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\services\\spotify.service.ts:56:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async authenticateToken (C:\\Users\\pille\\Documents\\Programmieren\\workspace_weightify\\weightify\\src\\middleware\\auth.middleware.ts:15:5)","timestamp":"2025-08-08T09:43:18.996Z"}
